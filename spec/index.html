<!DOCTYPE html>
<html>
  <head>
    <title>Evented APIs</title>
    <link href='/bootstrap.1.3.0.min.css' rel='stylesheet'>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'></script>
    <style>
      /*<![CDATA[*/
        body {
        	padding-top: 40px;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <div class='topbar'>
      <div class='topbar-inner'>
        <div class='container'>
          <a class='brand' href='/'>Evented APIs</a>
          <ul class='nav'>
            <li class=''>
              <a href='http://www.eventedapi.org'>Overview</a>
            </li>
            <li class='active'>
              <a href='http://www.eventedapi.org/spec'>Spec</a>
            </li>
            <li>
              <a href='http://generator.eventedapi.org'>Example Generator</a>
            </li>
            <li>
              <a href='http://consumer.eventedapi.org'>Example Consumer</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class='container'>
      <style>
        /*<![CDATA[*/
          #header, #footer {
          	display: none;
          }
          .container {
          	width: 640px;
          }
        /*]]>*/
      </style>
      <div id="contents">
      <style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ul.lst-kix_aydf22nbavjs-1{list-style-type:none}.lst-kix_mmjnckkcal3l-7>li:before{content:"\0025cb  "}.lst-kix_wir6gzr6kg5m-8>li:before{content:"\0025a0  "}ul.lst-kix_piqfzc3vhpsc-8{list-style-type:none}ul.lst-kix_aydf22nbavjs-2{list-style-type:none}ul.lst-kix_piqfzc3vhpsc-7{list-style-type:none}ul.lst-kix_aydf22nbavjs-3{list-style-type:none}.lst-kix_mmjnckkcal3l-6>li:before{content:"\0025cf  "}.lst-kix_mmjnckkcal3l-8>li:before{content:"\0025a0  "}ul.lst-kix_aydf22nbavjs-4{list-style-type:none}.lst-kix_mmjnckkcal3l-5>li:before{content:"\0025a0  "}.lst-kix_wir6gzr6kg5m-6>li:before{content:"\0025cf  "}.lst-kix_wir6gzr6kg5m-5>li:before{content:"\0025a0  "}ul.lst-kix_aydf22nbavjs-0{list-style-type:none}.lst-kix_mmjnckkcal3l-3>li:before{content:"\0025cf  "}ul.lst-kix_piqfzc3vhpsc-0{list-style-type:none}.lst-kix_mmjnckkcal3l-2>li:before{content:"\0025a0  "}.lst-kix_mmjnckkcal3l-4>li:before{content:"\0025cb  "}.lst-kix_1cknvd9vzkls-7>li:before{content:"\0025cb  "}ul.lst-kix_piqfzc3vhpsc-2{list-style-type:none}ul.lst-kix_piqfzc3vhpsc-1{list-style-type:none}.lst-kix_1cknvd9vzkls-6>li:before{content:"\0025cf  "}ul.lst-kix_piqfzc3vhpsc-4{list-style-type:none}ul.lst-kix_piqfzc3vhpsc-3{list-style-type:none}.lst-kix_wir6gzr6kg5m-7>li:before{content:"\0025cb  "}ul.lst-kix_piqfzc3vhpsc-6{list-style-type:none}ul.lst-kix_piqfzc3vhpsc-5{list-style-type:none}.lst-kix_wir6gzr6kg5m-0>li:before{content:"\0025cf  "}.lst-kix_wir6gzr6kg5m-1>li:before{content:"\0025cb  "}.lst-kix_nuzgdgh5y2hg-0>li:before{content:"\0025cf  "}.lst-kix_mmjnckkcal3l-0>li:before{content:"\0025cf  "}.lst-kix_afbzncq04nm-6>li:before{content:"\0025cf  "}.lst-kix_afbzncq04nm-8>li:before{content:"\0025a0  "}.lst-kix_mmjnckkcal3l-1>li:before{content:"\0025cb  "}.lst-kix_wir6gzr6kg5m-2>li:before{content:"\0025a0  "}.lst-kix_afbzncq04nm-7>li:before{content:"\0025cb  "}.lst-kix_viywkl3k4v05-5>li{counter-increment:lst-ctn-kix_viywkl3k4v05-5}.lst-kix_wir6gzr6kg5m-4>li:before{content:"\0025cb  "}.lst-kix_1cknvd9vzkls-8>li:before{content:"\0025a0  "}ul.lst-kix_nuzgdgh5y2hg-1{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-2{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-3{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-4{list-style-type:none}ul.lst-kix_aydf22nbavjs-5{list-style-type:none}ul.lst-kix_aydf22nbavjs-6{list-style-type:none}ul.lst-kix_aydf22nbavjs-7{list-style-type:none}.lst-kix_wir6gzr6kg5m-3>li:before{content:"\0025cf  "}.lst-kix_f258n9cov7mf-6>li{counter-increment:lst-ctn-kix_f258n9cov7mf-6}ul.lst-kix_aydf22nbavjs-8{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-0{list-style-type:none}.lst-kix_nuzgdgh5y2hg-7>li:before{content:"\0025cb  "}.lst-kix_nuzgdgh5y2hg-8>li:before{content:"\0025a0  "}.lst-kix_afbzncq04nm-0>li:before{content:"\0025cf  "}.lst-kix_cutymes3p7c4-1>li:before{content:"\0025cb  "}.lst-kix_nuzgdgh5y2hg-3>li:before{content:"\0025cf  "}.lst-kix_afbzncq04nm-4>li:before{content:"\0025cb  "}.lst-kix_cutymes3p7c4-0>li:before{content:"\0025cf  "}.lst-kix_nuzgdgh5y2hg-1>li:before{content:"\0025cb  "}.lst-kix_nuzgdgh5y2hg-2>li:before{content:"\0025a0  "}.lst-kix_afbzncq04nm-5>li:before{content:"\0025a0  "}.lst-kix_1cknvd9vzkls-4>li:before{content:"\0025cb  "}.lst-kix_1cknvd9vzkls-3>li:before{content:"\0025cf  "}.lst-kix_1cknvd9vzkls-5>li:before{content:"\0025a0  "}.lst-kix_f258n9cov7mf-4>li{counter-increment:lst-ctn-kix_f258n9cov7mf-4}.lst-kix_afbzncq04nm-3>li:before{content:"\0025cf  "}.lst-kix_1cknvd9vzkls-0>li:before{content:"\0025cf  "}.lst-kix_nuzgdgh5y2hg-4>li:before{content:"\0025cb  "}.lst-kix_1cknvd9vzkls-1>li:before{content:"\0025cb  "}.lst-kix_afbzncq04nm-2>li:before{content:"\0025a0  "}ol.lst-kix_f258n9cov7mf-8.start{counter-reset:lst-ctn-kix_f258n9cov7mf-8 0}.lst-kix_1cknvd9vzkls-2>li:before{content:"\0025a0  "}.lst-kix_viywkl3k4v05-7>li{counter-increment:lst-ctn-kix_viywkl3k4v05-7}.lst-kix_nuzgdgh5y2hg-5>li:before{content:"\0025a0  "}.lst-kix_nuzgdgh5y2hg-6>li:before{content:"\0025cf  "}.lst-kix_afbzncq04nm-1>li:before{content:"\0025cb  "}.lst-kix_gguulvg0epkq-8>li:before{content:"\0025a0  "}.lst-kix_gguulvg0epkq-5>li:before{content:"\0025a0  "}.lst-kix_gguulvg0epkq-3>li:before{content:"\0025cf  "}.lst-kix_gguulvg0epkq-7>li:before{content:"\0025cb  "}.lst-kix_gguulvg0epkq-2>li:before{content:"\0025a0  "}.lst-kix_gguulvg0epkq-6>li:before{content:"\0025cf  "}.lst-kix_izo4p03crrcb-2>li:before{content:"\0025a0  "}.lst-kix_izo4p03crrcb-1>li:before{content:"\0025cb  "}.lst-kix_cutymes3p7c4-8>li:before{content:"\0025a0  "}.lst-kix_izo4p03crrcb-0>li:before{content:"\0025cf  "}.lst-kix_gguulvg0epkq-4>li:before{content:"\0025cb  "}.lst-kix_viywkl3k4v05-3>li{counter-increment:lst-ctn-kix_viywkl3k4v05-3}.lst-kix_cutymes3p7c4-7>li:before{content:"\0025cb  "}.lst-kix_cutymes3p7c4-4>li:before{content:"\0025cb  "}.lst-kix_cutymes3p7c4-6>li:before{content:"\0025cf  "}.lst-kix_cutymes3p7c4-5>li:before{content:"\0025a0  "}.lst-kix_gguulvg0epkq-1>li:before{content:"\0025cb  "}.lst-kix_cutymes3p7c4-2>li:before{content:"\0025a0  "}ol.lst-kix_viywkl3k4v05-5.start{counter-reset:lst-ctn-kix_viywkl3k4v05-5 0}.lst-kix_gguulvg0epkq-0>li:before{content:"\0025cf  "}.lst-kix_cutymes3p7c4-3>li:before{content:"\0025cf  "}ul.lst-kix_240j4lxa9s8v-3{list-style-type:none}ul.lst-kix_240j4lxa9s8v-2{list-style-type:none}ul.lst-kix_240j4lxa9s8v-1{list-style-type:none}ul.lst-kix_240j4lxa9s8v-0{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-5{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-6{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-7{list-style-type:none}ul.lst-kix_nuzgdgh5y2hg-8{list-style-type:none}ul.lst-kix_240j4lxa9s8v-8{list-style-type:none}ul.lst-kix_240j4lxa9s8v-7{list-style-type:none}ul.lst-kix_240j4lxa9s8v-6{list-style-type:none}ul.lst-kix_240j4lxa9s8v-5{list-style-type:none}ul.lst-kix_240j4lxa9s8v-4{list-style-type:none}ol.lst-kix_viywkl3k4v05-4.start{counter-reset:lst-ctn-kix_viywkl3k4v05-4 0}ol.lst-kix_f258n9cov7mf-4.start{counter-reset:lst-ctn-kix_f258n9cov7mf-4 0}.lst-kix_f258n9cov7mf-1>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-1,lower-latin) ". "}.lst-kix_viywkl3k4v05-0>li{counter-increment:lst-ctn-kix_viywkl3k4v05-0}ul.lst-kix_49hxze8l9f3n-2{list-style-type:none}ul.lst-kix_49hxze8l9f3n-1{list-style-type:none}ul.lst-kix_49hxze8l9f3n-4{list-style-type:none}.lst-kix_f258n9cov7mf-3>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-3,decimal) ". "}.lst-kix_f258n9cov7mf-5>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-5,lower-roman) ". "}ul.lst-kix_49hxze8l9f3n-3{list-style-type:none}ul.lst-kix_49hxze8l9f3n-0{list-style-type:none}ul.lst-kix_xrptopk2lxbv-6{list-style-type:none}ol.lst-kix_viywkl3k4v05-3.start{counter-reset:lst-ctn-kix_viywkl3k4v05-3 0}ul.lst-kix_pw6h8rawbi0v-8{list-style-type:none}ul.lst-kix_xrptopk2lxbv-5{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-7{list-style-type:none}.lst-kix_piqfzc3vhpsc-0>li:before{content:"\0025cf  "}ul.lst-kix_xrptopk2lxbv-4{list-style-type:none}ul.lst-kix_xrptopk2lxbv-3{list-style-type:none}ol.lst-kix_f258n9cov7mf-1.start{counter-reset:lst-ctn-kix_f258n9cov7mf-1 0}ul.lst-kix_pw6h8rawbi0v-4{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-3{list-style-type:none}ul.lst-kix_xrptopk2lxbv-8{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-6{list-style-type:none}ul.lst-kix_xrptopk2lxbv-7{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-5{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-0{list-style-type:none}.lst-kix_piqfzc3vhpsc-4>li:before{content:"\0025cb  "}ul.lst-kix_pw6h8rawbi0v-2{list-style-type:none}ul.lst-kix_pw6h8rawbi0v-1{list-style-type:none}ul.lst-kix_xrptopk2lxbv-2{list-style-type:none}ul.lst-kix_xrptopk2lxbv-1{list-style-type:none}.lst-kix_piqfzc3vhpsc-2>li:before{content:"\0025a0  "}ul.lst-kix_xrptopk2lxbv-0{list-style-type:none}ol.lst-kix_viywkl3k4v05-0.start{counter-reset:lst-ctn-kix_viywkl3k4v05-0 0}.lst-kix_240j4lxa9s8v-3>li:before{content:"\0025cf  "}.lst-kix_944qa0tr08v7-0>li:before{content:"\0025cf  "}.lst-kix_xrptopk2lxbv-0>li:before{content:"\0025cf  "}.lst-kix_240j4lxa9s8v-1>li:before{content:"\0025cb  "}.lst-kix_izo4p03crrcb-5>li:before{content:"\0025a0  "}.lst-kix_izo4p03crrcb-7>li:before{content:"\0025cb  "}.lst-kix_240j4lxa9s8v-7>li:before{content:"\0025cb  "}.lst-kix_izo4p03crrcb-3>li:before{content:"\0025cf  "}.lst-kix_f258n9cov7mf-1>li{counter-increment:lst-ctn-kix_f258n9cov7mf-1}.lst-kix_240j4lxa9s8v-5>li:before{content:"\0025a0  "}ul.lst-kix_gguulvg0epkq-8{list-style-type:none}ul.lst-kix_gguulvg0epkq-7{list-style-type:none}ul.lst-kix_gguulvg0epkq-6{list-style-type:none}.lst-kix_pw6h8rawbi0v-0>li:before{content:"\0025cf  "}.lst-kix_pw6h8rawbi0v-2>li:before{content:"\0025a0  "}ul.lst-kix_gguulvg0epkq-5{list-style-type:none}.lst-kix_f258n9cov7mf-8>li{counter-increment:lst-ctn-kix_f258n9cov7mf-8}ul.lst-kix_gguulvg0epkq-0{list-style-type:none}.lst-kix_xrptopk2lxbv-8>li:before{content:"\0025a0  "}ol.lst-kix_f258n9cov7mf-2.start{counter-reset:lst-ctn-kix_f258n9cov7mf-2 0}ul.lst-kix_gguulvg0epkq-4{list-style-type:none}.lst-kix_xrptopk2lxbv-6>li:before{content:"\0025cf  "}ul.lst-kix_gguulvg0epkq-3{list-style-type:none}.lst-kix_f258n9cov7mf-2>li{counter-increment:lst-ctn-kix_f258n9cov7mf-2}ul.lst-kix_gguulvg0epkq-2{list-style-type:none}ul.lst-kix_gguulvg0epkq-1{list-style-type:none}ul.lst-kix_cutymes3p7c4-6{list-style-type:none}.lst-kix_xrptopk2lxbv-4>li:before{content:"\0025cb  "}ul.lst-kix_cutymes3p7c4-7{list-style-type:none}ul.lst-kix_cutymes3p7c4-8{list-style-type:none}.lst-kix_pw6h8rawbi0v-8>li:before{content:"\0025a0  "}ul.lst-kix_cutymes3p7c4-2{list-style-type:none}ul.lst-kix_1cknvd9vzkls-0{list-style-type:none}ul.lst-kix_cutymes3p7c4-3{list-style-type:none}ul.lst-kix_cutymes3p7c4-4{list-style-type:none}ul.lst-kix_cutymes3p7c4-5{list-style-type:none}ul.lst-kix_1cknvd9vzkls-3{list-style-type:none}ul.lst-kix_1cknvd9vzkls-4{list-style-type:none}ul.lst-kix_1cknvd9vzkls-1{list-style-type:none}ul.lst-kix_cutymes3p7c4-0{list-style-type:none}ul.lst-kix_1cknvd9vzkls-2{list-style-type:none}.lst-kix_viywkl3k4v05-0>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-0,decimal) ". "}.lst-kix_pw6h8rawbi0v-4>li:before{content:"\0025cb  "}.lst-kix_pw6h8rawbi0v-6>li:before{content:"\0025cf  "}ul.lst-kix_cutymes3p7c4-1{list-style-type:none}ul.lst-kix_1cknvd9vzkls-7{list-style-type:none}.lst-kix_944qa0tr08v7-2>li:before{content:"\0025a0  "}.lst-kix_xrptopk2lxbv-2>li:before{content:"\0025a0  "}ul.lst-kix_1cknvd9vzkls-8{list-style-type:none}ul.lst-kix_1cknvd9vzkls-5{list-style-type:none}ul.lst-kix_1cknvd9vzkls-6{list-style-type:none}.lst-kix_944qa0tr08v7-4>li:before{content:"\0025cb  "}.lst-kix_piqfzc3vhpsc-8>li:before{content:"\0025a0  "}.lst-kix_viywkl3k4v05-2>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-2,lower-roman) ". "}.lst-kix_viywkl3k4v05-4>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-4,lower-latin) ". "}.lst-kix_viywkl3k4v05-6>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-6,decimal) ". "}.lst-kix_piqfzc3vhpsc-6>li:before{content:"\0025cf  "}.lst-kix_944qa0tr08v7-6>li:before{content:"\0025cf  "}.lst-kix_f258n9cov7mf-7>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-7,lower-latin) ". "}.lst-kix_944qa0tr08v7-8>li:before{content:"\0025a0  "}ol.lst-kix_f258n9cov7mf-3.start{counter-reset:lst-ctn-kix_f258n9cov7mf-3 0}ol.lst-kix_viywkl3k4v05-1.start{counter-reset:lst-ctn-kix_viywkl3k4v05-1 0}.lst-kix_viywkl3k4v05-8>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-8,lower-roman) ". "}ul.lst-kix_aq0sz5a09lil-8{list-style-type:none}ul.lst-kix_aq0sz5a09lil-6{list-style-type:none}ul.lst-kix_aq0sz5a09lil-7{list-style-type:none}ul.lst-kix_aq0sz5a09lil-0{list-style-type:none}ul.lst-kix_aq0sz5a09lil-1{list-style-type:none}.lst-kix_viywkl3k4v05-6>li{counter-increment:lst-ctn-kix_viywkl3k4v05-6}.lst-kix_f258n9cov7mf-5>li{counter-increment:lst-ctn-kix_f258n9cov7mf-5}ul.lst-kix_aq0sz5a09lil-4{list-style-type:none}ul.lst-kix_aq0sz5a09lil-5{list-style-type:none}ul.lst-kix_aq0sz5a09lil-2{list-style-type:none}ul.lst-kix_aq0sz5a09lil-3{list-style-type:none}ul.lst-kix_agpt0ik9htz2-1{list-style-type:none}ul.lst-kix_izo4p03crrcb-8{list-style-type:none}ul.lst-kix_agpt0ik9htz2-0{list-style-type:none}ul.lst-kix_agpt0ik9htz2-3{list-style-type:none}ul.lst-kix_agpt0ik9htz2-2{list-style-type:none}ul.lst-kix_izo4p03crrcb-4{list-style-type:none}ul.lst-kix_izo4p03crrcb-5{list-style-type:none}ul.lst-kix_izo4p03crrcb-6{list-style-type:none}ul.lst-kix_izo4p03crrcb-7{list-style-type:none}ul.lst-kix_izo4p03crrcb-0{list-style-type:none}ul.lst-kix_agpt0ik9htz2-8{list-style-type:none}ul.lst-kix_izo4p03crrcb-1{list-style-type:none}ul.lst-kix_izo4p03crrcb-2{list-style-type:none}ul.lst-kix_izo4p03crrcb-3{list-style-type:none}ul.lst-kix_agpt0ik9htz2-5{list-style-type:none}ul.lst-kix_agpt0ik9htz2-4{list-style-type:none}ul.lst-kix_agpt0ik9htz2-7{list-style-type:none}ul.lst-kix_agpt0ik9htz2-6{list-style-type:none}ol.lst-kix_f258n9cov7mf-5.start{counter-reset:lst-ctn-kix_f258n9cov7mf-5 0}.lst-kix_agpt0ik9htz2-0>li:before{content:"\0025cf  "}.lst-kix_agpt0ik9htz2-1>li:before{content:"\0025cb  "}ol.lst-kix_viywkl3k4v05-2.start{counter-reset:lst-ctn-kix_viywkl3k4v05-2 0}.lst-kix_aq0sz5a09lil-0>li:before{content:"\0025cf  "}.lst-kix_agpt0ik9htz2-4>li:before{content:"\0025cb  "}.lst-kix_agpt0ik9htz2-5>li:before{content:"\0025a0  "}.lst-kix_aq0sz5a09lil-2>li:before{content:"\0025a0  "}.lst-kix_aq0sz5a09lil-3>li:before{content:"\0025cf  "}.lst-kix_f258n9cov7mf-7>li{counter-increment:lst-ctn-kix_f258n9cov7mf-7}.lst-kix_agpt0ik9htz2-2>li:before{content:"\0025a0  "}.lst-kix_agpt0ik9htz2-6>li:before{content:"\0025cf  "}.lst-kix_aq0sz5a09lil-1>li:before{content:"\0025cb  "}.lst-kix_aq0sz5a09lil-5>li:before{content:"\0025a0  "}.lst-kix_viywkl3k4v05-4>li{counter-increment:lst-ctn-kix_viywkl3k4v05-4}.lst-kix_agpt0ik9htz2-3>li:before{content:"\0025cf  "}.lst-kix_aq0sz5a09lil-4>li:before{content:"\0025cb  "}.lst-kix_aydf22nbavjs-4>li:before{content:"\0025cb  "}.lst-kix_aydf22nbavjs-3>li:before{content:"\0025cf  "}.lst-kix_aydf22nbavjs-2>li:before{content:"\0025a0  "}.lst-kix_aydf22nbavjs-5>li:before{content:"\0025a0  "}.lst-kix_aydf22nbavjs-6>li:before{content:"\0025cf  "}.lst-kix_aydf22nbavjs-0>li:before{content:"\0025cf  "}.lst-kix_aq0sz5a09lil-6>li:before{content:"\0025cf  "}.lst-kix_agpt0ik9htz2-8>li:before{content:"\0025a0  "}.lst-kix_aydf22nbavjs-7>li:before{content:"\0025cb  "}.lst-kix_aydf22nbavjs-8>li:before{content:"\0025a0  "}.lst-kix_aydf22nbavjs-1>li:before{content:"\0025cb  "}.lst-kix_aq0sz5a09lil-8>li:before{content:"\0025a0  "}.lst-kix_agpt0ik9htz2-7>li:before{content:"\0025cb  "}ol.lst-kix_f258n9cov7mf-6.start{counter-reset:lst-ctn-kix_f258n9cov7mf-6 0}.lst-kix_aq0sz5a09lil-7>li:before{content:"\0025cb  "}.lst-kix_f258n9cov7mf-3>li{counter-increment:lst-ctn-kix_f258n9cov7mf-3}.lst-kix_49hxze8l9f3n-5>li:before{content:"\0025a0  "}ul.lst-kix_afbzncq04nm-0{list-style-type:none}ul.lst-kix_afbzncq04nm-1{list-style-type:none}ul.lst-kix_afbzncq04nm-2{list-style-type:none}ul.lst-kix_afbzncq04nm-3{list-style-type:none}.lst-kix_49hxze8l9f3n-3>li:before{content:"\0025cf  "}.lst-kix_49hxze8l9f3n-7>li:before{content:"\0025cb  "}ul.lst-kix_afbzncq04nm-4{list-style-type:none}ul.lst-kix_afbzncq04nm-5{list-style-type:none}.lst-kix_49hxze8l9f3n-2>li:before{content:"\0025a0  "}.lst-kix_49hxze8l9f3n-6>li:before{content:"\0025cf  "}ul.lst-kix_afbzncq04nm-6{list-style-type:none}.lst-kix_49hxze8l9f3n-1>li:before{content:"\0025cb  "}.lst-kix_49hxze8l9f3n-0>li:before{content:"\0025cf  "}.lst-kix_49hxze8l9f3n-8>li:before{content:"\0025a0  "}ul.lst-kix_49hxze8l9f3n-6{list-style-type:none}ul.lst-kix_49hxze8l9f3n-5{list-style-type:none}ul.lst-kix_49hxze8l9f3n-8{list-style-type:none}ul.lst-kix_49hxze8l9f3n-7{list-style-type:none}ul.lst-kix_afbzncq04nm-7{list-style-type:none}ul.lst-kix_afbzncq04nm-8{list-style-type:none}ol.lst-kix_f258n9cov7mf-0.start{counter-reset:lst-ctn-kix_f258n9cov7mf-0 0}.lst-kix_49hxze8l9f3n-4>li:before{content:"\0025cb  "}.lst-kix_f258n9cov7mf-2>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-2,lower-roman) ". "}ol.lst-kix_viywkl3k4v05-6.start{counter-reset:lst-ctn-kix_viywkl3k4v05-6 0}.lst-kix_f258n9cov7mf-4>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-4,lower-latin) ". "}.lst-kix_piqfzc3vhpsc-1>li:before{content:"\0025cb  "}.lst-kix_f258n9cov7mf-0>li{counter-increment:lst-ctn-kix_f258n9cov7mf-0}ol.lst-kix_f258n9cov7mf-7.start{counter-reset:lst-ctn-kix_f258n9cov7mf-7 0}.lst-kix_piqfzc3vhpsc-3>li:before{content:"\0025cf  "}.lst-kix_f258n9cov7mf-0>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-0,decimal) ". "}.lst-kix_240j4lxa9s8v-0>li:before{content:"\0025cf  "}ol.lst-kix_viywkl3k4v05-8{list-style-type:none}.lst-kix_944qa0tr08v7-1>li:before{content:"\0025cb  "}ol.lst-kix_viywkl3k4v05-6{list-style-type:none}.lst-kix_viywkl3k4v05-1>li{counter-increment:lst-ctn-kix_viywkl3k4v05-1}ol.lst-kix_viywkl3k4v05-7{list-style-type:none}.lst-kix_240j4lxa9s8v-2>li:before{content:"\0025a0  "}.lst-kix_izo4p03crrcb-8>li:before{content:"\0025a0  "}.lst-kix_izo4p03crrcb-6>li:before{content:"\0025cf  "}.lst-kix_240j4lxa9s8v-6>li:before{content:"\0025cf  "}.lst-kix_240j4lxa9s8v-8>li:before{content:"\0025a0  "}ol.lst-kix_viywkl3k4v05-4{list-style-type:none}ol.lst-kix_viywkl3k4v05-5{list-style-type:none}ol.lst-kix_viywkl3k4v05-2{list-style-type:none}.lst-kix_240j4lxa9s8v-4>li:before{content:"\0025cb  "}ol.lst-kix_viywkl3k4v05-3{list-style-type:none}ol.lst-kix_viywkl3k4v05-0{list-style-type:none}.lst-kix_izo4p03crrcb-4>li:before{content:"\0025cb  "}ol.lst-kix_viywkl3k4v05-1{list-style-type:none}ul.lst-kix_944qa0tr08v7-6{list-style-type:none}ul.lst-kix_944qa0tr08v7-5{list-style-type:none}ul.lst-kix_944qa0tr08v7-4{list-style-type:none}ul.lst-kix_944qa0tr08v7-3{list-style-type:none}ul.lst-kix_mmjnckkcal3l-0{list-style-type:none}ul.lst-kix_944qa0tr08v7-8{list-style-type:none}ul.lst-kix_944qa0tr08v7-7{list-style-type:none}.lst-kix_pw6h8rawbi0v-3>li:before{content:"\0025cf  "}ul.lst-kix_mmjnckkcal3l-5{list-style-type:none}.lst-kix_xrptopk2lxbv-7>li:before{content:"\0025cb  "}ul.lst-kix_mmjnckkcal3l-6{list-style-type:none}ol.lst-kix_f258n9cov7mf-8{list-style-type:none}ul.lst-kix_mmjnckkcal3l-7{list-style-type:none}ol.lst-kix_f258n9cov7mf-7{list-style-type:none}ul.lst-kix_mmjnckkcal3l-8{list-style-type:none}ul.lst-kix_mmjnckkcal3l-1{list-style-type:none}ul.lst-kix_mmjnckkcal3l-2{list-style-type:none}ul.lst-kix_mmjnckkcal3l-3{list-style-type:none}ul.lst-kix_mmjnckkcal3l-4{list-style-type:none}.lst-kix_pw6h8rawbi0v-1>li:before{content:"\0025cb  "}.lst-kix_xrptopk2lxbv-3>li:before{content:"\0025cf  "}.lst-kix_viywkl3k4v05-8>li{counter-increment:lst-ctn-kix_viywkl3k4v05-8}.lst-kix_viywkl3k4v05-2>li{counter-increment:lst-ctn-kix_viywkl3k4v05-2}.lst-kix_xrptopk2lxbv-1>li:before{content:"\0025cb  "}.lst-kix_xrptopk2lxbv-5>li:before{content:"\0025a0  "}ol.lst-kix_viywkl3k4v05-8.start{counter-reset:lst-ctn-kix_viywkl3k4v05-8 0}.lst-kix_pw6h8rawbi0v-7>li:before{content:"\0025cb  "}ul.lst-kix_944qa0tr08v7-2{list-style-type:none}ul.lst-kix_944qa0tr08v7-1{list-style-type:none}ul.lst-kix_944qa0tr08v7-0{list-style-type:none}.lst-kix_viywkl3k4v05-1>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-1,lower-latin) ". "}.lst-kix_pw6h8rawbi0v-5>li:before{content:"\0025a0  "}.lst-kix_944qa0tr08v7-3>li:before{content:"\0025cf  "}.lst-kix_piqfzc3vhpsc-7>li:before{content:"\0025cb  "}ul.lst-kix_wir6gzr6kg5m-8{list-style-type:none}.lst-kix_944qa0tr08v7-5>li:before{content:"\0025a0  "}.lst-kix_piqfzc3vhpsc-5>li:before{content:"\0025a0  "}.lst-kix_viywkl3k4v05-3>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-3,decimal) ". "}.lst-kix_viywkl3k4v05-7>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-7,lower-latin) ". "}.lst-kix_944qa0tr08v7-7>li:before{content:"\0025cb  "}ul.lst-kix_wir6gzr6kg5m-3{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-2{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-1{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-0{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-7{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-6{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-5{list-style-type:none}ul.lst-kix_wir6gzr6kg5m-4{list-style-type:none}.lst-kix_viywkl3k4v05-5>li:before{content:"" counter(lst-ctn-kix_viywkl3k4v05-5,lower-roman) ". "}ol.lst-kix_viywkl3k4v05-7.start{counter-reset:lst-ctn-kix_viywkl3k4v05-7 0}ol.lst-kix_f258n9cov7mf-2{list-style-type:none}ol.lst-kix_f258n9cov7mf-1{list-style-type:none}ol.lst-kix_f258n9cov7mf-0{list-style-type:none}ol.lst-kix_f258n9cov7mf-6{list-style-type:none}ol.lst-kix_f258n9cov7mf-5{list-style-type:none}ol.lst-kix_f258n9cov7mf-4{list-style-type:none}ol.lst-kix_f258n9cov7mf-3{list-style-type:none}.lst-kix_f258n9cov7mf-6>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-6,decimal) ". "}.lst-kix_f258n9cov7mf-8>li:before{content:"" counter(lst-ctn-kix_f258n9cov7mf-8,lower-roman) ". "}ol{margin:0;padding:0}table td,table th{padding:0}.c32{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#000000;border-left-style:solid;border-bottom-width:1pt;width:77.2pt;border-top-color:#000000;border-bottom-style:solid}.c24{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#000000;border-left-style:solid;border-bottom-width:1pt;width:244.5pt;border-top-color:#000000;border-bottom-style:solid}.c38{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.2pt;border-top-color:#000000;border-bottom-style:solid}.c39{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:109.5pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:236.2pt;border-top-color:#000000;border-bottom-style:solid}.c8{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:122.2pt;border-top-color:#000000;border-bottom-style:solid}.c37{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:244.5pt;border-top-color:#000000;border-bottom-style:solid}.c25{background-color:#000000;color:#ffffff;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c30{color:#ffffff;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c21{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c27{border-spacing:0;border-collapse:collapse;margin-right:auto}.c14{padding-top:14pt;padding-bottom:4pt;line-height:1.15;text-align:left}.c2{background-color:#f9f9f9;vertical-align:sub;font-size:10pt;font-family:"Verdana"}.c29{padding-top:10pt;line-height:1.15;text-align:left}.c3{background-color:#f9f9f9;font-size:10pt;font-family:"Verdana"}.c31{padding-top:18pt;line-height:1.15;text-align:left}.c9{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c4{padding-top:0pt;line-height:1.15;text-align:left}.c36{font-size:9pt;font-family:"Verdana"}.c5{padding-top:0pt;padding-bottom:0pt}.c23{line-height:1.15;text-align:center}.c13{margin-left:36pt;padding-left:0pt}.c1{color:#000099;text-decoration:underline}.c20{margin-left:34pt;padding-left:0pt}.c10{line-height:1.0;text-align:left}.c34{color:inherit;text-decoration:inherit}.c11{padding:0;margin:0}.c40{padding-top:10pt}.c6{padding-top:0pt}.c16{height:0pt}.c28{height:11pt}.c7{font-style:italic}.c35{background-color:#000000}.c19{padding-bottom:4pt}.c12{font-weight:bold}.c18{background-color:#ffffff}.c15{font-family:"Consolas"}.c33{color:#ffffff}.c22{margin-left:16pt}.c17{padding-bottom:0pt}.c0{padding-bottom:10pt}.title{padding-top:24pt;color:#000000;font-weight:bold;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:bold;font-size:24pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:bold;font-size:18pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:bold;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:bold;font-size:12pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:bold;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:bold;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style>
      <h1 id="h.vxcm8vub2r5"><span>Evented APIs</span></h1>
      <h2 id="h.ec5v5qaq9tyo"><span>Authors</span></h2>
      <p class="c5"><span>Sam Curren, &lt;</span><span class="c1"><a class="c34" href="mailto:sxc@kynetx.com">sxc@kynetx.com</a></span><span>&gt;</span></p>
      <p class="c5"><span>Phillip J. Windley, &lt;</span><span class="c1"><a class="c34" href="mailto:pjw@kynetx.com">pjw@kynetx.com</a></span><span>&gt;</span></p>
      <h2 id="h.kan34zrc55qr"><span>Status</span></h2>
      <p class="c5"><span>Version: 1.0</span></p>
      <p class="c5"><span>Released: Oct 4, 2011</span></p>
      <h2 class="c40" id="h.ivpu1ay43654"><span>Overview</span></h2>
      <p class="c4 c0"><span>Events indicate something has happened. In this they differ from the request-response interaction style popular on the Web. Event-based systems are declarative whereas request-response systems are interrogatory. The difference between events (&ldquo;this happened&rdquo;) and requests (&ldquo;will you do this?&rdquo;) offers benefits in looser coupling of components as well as semantic encapsulation (see </span><span class="c1"><a class="c34" href="http://www.windley.com/archives/2011/09/on_hierarchies_and_networks.shtml">On Hierarchies and Networks</a></span><span>&nbsp;for more detail).</span></p>
      <p class="c0 c4"><span>APIs have become an economic imperative for many companies. But APIs based solely on request-response style interactions limit integrations to those where one system always knows what it wants from the other. The calling service must script the interaction and the APIs simply follow along. </span></p>
      <p class="c4 c17"><span>We envision a world where applications integrate multiple products and services as equals based on event-driven interactions. Evented APIs, following the form described in this document, enable building such applications. </span></p>
      <h2 id="h.mvd2hpu9y19"><span>General Concepts</span></h2>
      <p class="c5"><span>The following concepts are useful in understanding the specification that follows. </span></p>
      <h3 id="h.6p7xzh1khjj5"><span>Components and General Operation</span></h3>
      <p class="c4 c0"><span>Event-driven systems comprise </span></p>
      <ul class="c11 lst-kix_nuzgdgh5y2hg-0 start">
      <li class="c4 c13 c17"><span>event generators that send events, </span></li>
      <li class="c4 c13 c17"><span>event consumers that consume and act on events, and </span></li>
      <li class="c4 c13 c0"><span>a system for distributing events. </span></li>
      </ul>
      <p class="c4 c0"><span>Events are pushed from an event generator to event consumers when the event generators sees a relevant state change. Event consumers indicate their desire to see specific events through subscription. In the following diagram events from generators A-D are received by event consumers. Note that some events (e.g. A) are received by multiple consumers, some consumers received more than one event, and some events (e.g. C) are received by no one. </span></p>
      <p class="c6 c0 c23"><span><img src='http://www.eventedapi.org/components.png'/></span></p>
      <p class="c4 c0"><span>Using an Evented API, any program can act as as either an event generator or event consumer so long as it meets certain, minimal requirements (described below). The Internet--specifically the HTTP protocol--acts as the event distribution network. Subscription occurs when an event generator records the event signal URL for an event consumer. </span></p>
      <h3 class="c14" id="h.2rytj58pgb2"><span>Events are Not Remote Procedure Calls</span></h3>
      <p class="c4 c0"><span>Events are not Remote Procedure Calls (RPC) or requests. Events are a notification that something significant occurred. Events do not carry any instructions or directives. Events have attributes whereas an RPC has parameters. </span></p>
      <p class="c4 c0"><span>Years ago, computer designers discovered that having some components interrupt the CPU when they needed service was more efficient and easier to design and program. Before interrupts, the CPU polled components to determine if they needed service. Without events, an application must poll an API which is difficult to manage and expensive from a computational and communications standpoint. Event-driven systems gain the same benefits that interrupts gave hardware designers years ago. </span></p>
      <h3 id="h.33mlyrfnxf30"><span>Events are State Changes</span></h3>
      <p class="c4 c0"><span>An event is a notification of a state change in an Evented API. The temporal granularity of an event is assumed to be small, although unspecified. &nbsp;Event generators are free to determine what &ldquo;state change&rdquo; means. Event generators </span><span class="c7">may specify</span><span>&nbsp;a timestamp indicating when the event . occurred. If the timestamp is missing in the event signal, t</span><span>he timestamp of the event is determined by the timestamp of its delivery. </span></p>
      <h3 id="h.i8rbe3u55dlw"><span>Language and Platform Agnostic</span></h3>
      <p class="c4 c17"><span>The Evented API specification is designed to be language and platform agnostic. The only language requirement is that event generators must be able to perform an HTTP </span><span class="c15">POST</span><span>&nbsp;or</span><span>&nbsp;</span><span class="c15">GET</span><span>&nbsp;and event consumers must be able to receive them (they are associated with or act as an HTTP server). Occasionally-connected event consumers must run behind an event proxy service that stores and forwards events.</span></p>
      <h3 id="h.6ir6ov84e2sz"><span>Event Generator Bias</span></h3>
      <p class="c5"><span>The Evented API specification has been designed so that signalling events by event generators is as easy as possible. Where work or complexity could be shifted from the event generator to the event consumer, we have done so. </span></p>
      <h2 class="c31 c19" id="h.w3c8xlpqcj1g"><span>How it Works</span></h2>
      <h3 id="h.z403chaz5g4j"><span>Event Schema</span></h3>
      <p class="c6 c0"><span>An event has the following components:</span></p>
      <ul class="c11 lst-kix_aydf22nbavjs-0 start">
      <li class="c4 c13 c17">
      <span class="c12">event domain</span><span>&nbsp;- serves as a namespace for the event. A given event consumer may have more than one domain. </span><span class="c7">(required)</span>
      </li>
      <li class="c5 c13">
      <span class="c12">event name</span><span>&nbsp;- serves to identify the event. An event with name X in domain A (A:X) is different than an event named X in domain B (B:X). The event generator </span><span class="c7">must ensure</span><span>&nbsp;that the set of event names within and event domain are unique. </span><span class="c7">(required)</span>
      </li>
      <li class="c4 c13 c17">
      <span class="c12">timestamp</span><span>&nbsp;- indicates when the event occurred. </span><span>The event consumer will use the time that the event is received as a timestamp if the timestamp is not included in the event. </span><span class="c7">(optional)</span>
      </li>
      <li class="c4 c13 c17">
      <span class="c12">attributes</span><span>&nbsp;- key-value pairs that further define and describe the event. The names and content of the attributes are wholly up to the discretion of the event generator. </span><span class="c7">(optional)</span>
      </li>
      <li class="c4 c13 c0">
      <span class="c12">entity identifier - </span><span>Most</span><span>&nbsp;events are raised for a particular entity. </span><span>The event consumer is free to choose any identity scheme that serves its purpose. The operation and structure of the identifier are beyond the scope of this document. </span><span class="c7">(optional)</span>
      </li>
      </ul>
      <h3 class="c19" id="h.qpd1bgmnnk6f"><span>Event Dictionary</span></h3>
      <p class="c4 c0"><span>Event generators are responsible for publishing a dictionary of events by domain and name. The dictionary should list possible attributes along with the syntax and semantics. Event consumers are responsible for understanding the event dictionary. </span></p>
      <h3 class="c19" id="h.rqz8xtg2lf53"><span>Event Signal URL</span></h3>
      <p class="c4 c0"><span>An event consumer subscribes to an event generator by recording the consumer&rsquo;s event signal URL. The semantics of the event signal URL are opaque to the event generator although its structure should have meaning to the event consumer. &nbsp;The event signal URL encodes the entity identifier and thus represents an event consumer for a particular entity. </span></p>
      <p class="c4 c0"><span>The event consumer creates the event signal URL, as follows:</span></p>
      <ul class="c11 lst-kix_afbzncq04nm-0 start">
      <li class="c4 c13 c17">
      <span>The schema </span><span class="c7">must be</span><span>&nbsp;either </span><span class="c15">http</span><span>&nbsp;or </span><span class="c15">https</span><span>. </span>
      </li>
      <li class="c4 c13 c17">
      <span>The domain </span><span class="c7">may be</span><span>&nbsp;any domain that is convenient to the event consumer.</span>
      </li>
      <li class="c4 c13 c0">
      <span>The path </span><span class="c7">may contain</span><span>&nbsp;any static information useful to the event consumer in processing the request. </span><span>If the event consumer uses an entity identifier, it </span><span class="c7">must be placed</span><span>&nbsp;in the path. </span><span>Since the identifier is placed in the path, it must be URL encoded if it contains characters that cannot be put in the path. </span>
      </li>
      </ul>
      <p class="c4 c17"><span>The event signal URL </span><span class="c7">must not contain</span><span>&nbsp;a query string. </span></p>
      <h3 class="c19" id="h.44h8l9y9e57y"><span>Event Signaling</span></h3>
      <p class="c4 c0"><span>The event generator signals an event by encoding the event as a query string, appending it to the event signal URLs that it has recorded, and using HTTP to signal each URL. </span></p>
      <p class="c4 c0"><span>The event generator </span><span class="c7">should</span><span>&nbsp;signal events using HTTP </span><span class="c15">POST</span><span>&nbsp;using the event signal URL. </span><span>The event domain, event name, and attributes </span><span class="c7">must be sent </span><span>as key-value pairs in the body of the </span><span class="c15">POST</span><span>. Keys with a leading underscore character are reserved. </span></p>
      <p class="c4 c0"><span>There are two required key-value pairs that </span><span class="c7">must be sent</span><span>:</span></p>
      <ul class="c11 lst-kix_cutymes3p7c4-0 start">
      <li class="c4 c13 c17">
      <span class="c15">_domain</span><span>&nbsp;is the key for the event domain</span>
      </li>
      <li class="c4 c13 c0">
      <span class="c15">_name</span><span>&nbsp;is the key for the event name</span>
      </li>
      </ul>
      <p class="c4 c0"><span>The values sent for _domain and _name </span><span class="c7">must</span><span>&nbsp;be a string made of alphanumeric, underscore, dot, and dash characters [a-zA-Z0-9_.-]. &nbsp;</span></p>
      <p class="c4 c0"><span>In addition to the required key-value pairs given above, the generator may include any other attributes that the generator wishes to send with the event. </span></p>
      <p class="c4 c0"><span>Generators </span><span class="c7">may include</span><span>&nbsp;a timestamp indicating when the event occurred (which can be different than when it was signalled) using the </span><span class="c15">_timestamp</span><span>&nbsp;key. </span><span>The value of this field is an HTTP-date.</span><span>&nbsp;Consumers may use the value in the </span><span class="c15">_timestamp</span><span>&nbsp;field in lieu of the time when the signal was received.</span></p>
      <p class="c4 c0"><span>When sent as the body of an HTTP </span><span class="c15">POST</span><span>&nbsp;these parameters </span><span class="c7">must be</span><span>&nbsp;encoded using one of the methods shown in the following table. Note that the </span><span class="c15">Content-Type</span><span>&nbsp;header </span><span class="c7">must be</span><span>&nbsp;set to the appropriate mime-type for the event consumer to understand the message. </span></p>
      <a id="t.64af35d5075d6b556ef9e7b3224eb9ea0b7fde4e"></a><a id="t.0"></a><table class="c27"><tbody>
      <tr class="c16">
      <td class="c32" colspan="1" rowspan="1"><p class="c5 c10"><span class="c30">encoding</span></p></td>
      <td class="c24" colspan="1" rowspan="1"><p class="c5 c10"><span class="c33">mime-type</span></p></td>
      </tr>
      <tr class="c16">
      <td class="c38" colspan="1" rowspan="1"><p class="c5 c10"><span class="c21">form</span></p></td>
      <td class="c37" colspan="1" rowspan="1"><p class="c5 c10"><span class="c15">application/x-www-form-urlencoded</span></p></td>
      </tr>
      <tr class="c16">
      <td class="c38" colspan="1" rowspan="1"><p class="c5 c10"><span class="c21">JSON</span></p></td>
      <td class="c37" colspan="1" rowspan="1"><p class="c5 c10"><span class="c15">application/json</span></p></td>
      </tr>
      </tbody></table>
      <p class="c29 c0"><span>If the body is JSON-encoded, the encoding should be a JSON object containing the keys and values as follows:</span></p>
      <p class="c4 c17"><span class="c15">{&ldquo;_domain&rdquo; : &ldquo;web&rdquo;,</span></p>
      <p class="c4 c17"><span class="c15">&nbsp;&ldquo;_name&rdquo; : &ldquo;pageview&rdquo;,</span></p>
      <p class="c4 c17"><span class="c15">&nbsp;&ldquo;urls&rdquo; : [&ldquo;http://www.exampley.com/foo/bar.html&rdquo;,</span></p>
      <p class="c4 c17"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&ldquo;http://www.google.com/search&rdquo;]</span></p>
      <p class="c4 c0"><span class="c15">} </span></p>
      <h3 class="c19" id="h.w8aphfyqpb7a">
      <span>Using HTTP </span><span class="c15">GET</span>
      </h3>
      <p class="c4 c0"><span>An event generator </span><span class="c7">may use</span><span>&nbsp;an HTTP </span><span class="c15">GET</span><span>&nbsp;instead of </span><span class="c15">POST</span><span>&nbsp;in circumstances where a </span><span class="c15">POST </span><span>is difficult. In this case, the key-value pairs representing the event name, domain, and attributes are encoded as a query string as follows:</span></p>
      <p class="c4 c0 c22"><span class="c3">&lt;event-signal-url&gt;?field</span><span class="c2">1</span><span class="c3">=value</span><span class="c2">1</span><span class="c3">&amp;field</span><span class="c2">2</span><span class="c3">=value</span><span class="c2">2</span><span class="c3">&amp;field</span><span class="c2">3</span><span class="c3">=value</span><span class="c2">3</span><span class="c3">...</span></p>
      <ul class="c11 lst-kix_gguulvg0epkq-0 start">
      <li class="c20"><span class="c18">The query string is composed of a series of field-value pairs.</span></li>
      <li class="c20"><span class="c18">The field-value pairs are each separated by an equals sign. The equals sign may be omitted if the value is an empty string.</span></li>
      <li class="c20 c0"><span class="c18">The series of pairs is separated by the ampersand, '&amp;' or semicolon, ';'.</span></li>
      </ul>
      <p class="c0"><span class="c18">Multiple values can also be associated with a single field:</span></p>
      <p class="c22 c0"><span class="c3">&lt;event-signal-url&gt;?field</span><span class="c2">1</span><span class="c3">=value</span><span class="c2">1</span><span class="c3">&amp;field</span><span class="c2">1</span><span class="c3">=value</span><span class="c2">2</span><span class="c3">&amp;field</span><span class="c2">1</span><span class="c3">=value</span><span class="c2">3</span><span class="c3">...</span></p>
      <p class="c4 c0"><span>The keys and values </span><span class="c7">must be URL encoded</span><span>&nbsp;to encode reserved URL characters.</span></p>
      <p class="c4 c0"><span>Event consumers </span><span class="c7">must accept</span><span>&nbsp;both </span><span class="c15">POST</span><span>&nbsp;and </span><span class="c15">GET</span><span>&nbsp;signals. </span></p>
      <h3 class="c19" id="h.kitqjf84fgm4"><span>Success</span></h3>
      <p class="c0 c29"><span>Event consumers </span><span class="c7">should return</span><span>&nbsp;an HTTP response of 2xx to indicate that the event has been successfully signaled. Event consumers </span><span class="c7">should not use </span><span>response code 206 (partial content).</span></p>
      <p class="c29 c0"><span>The response content is unspecified in this version of the API. Event consumers </span><span class="c7">should specify</span><span>&nbsp;as part of their event dictionary what responses they expect, if any. </span></p>
      <h3 id="h.rensfotmtd61"><span>Error Handling</span></h3>
      <p class="c4 c0"><span>An HTTP status code of 4xx (client error) or 5xx (server error) represents that the event consumer has failed to receive the event signalled. </span></p>
      <p class="c0"><span>Failed event signals with a status code of 500 (internal service error), 503 (service unavailable), or 504 (gateway timeout) </span><span class="c7">may be</span><span>&nbsp;retried by the event generator. </span><span>&nbsp;Event consumers </span><span class="c7">may </span><span>indicate a willingness to entertain retries using the HTTP </span><span class="c15">Retry-After </span><span>header on a 503 status. Event generators </span><span class="c7">should </span><span>respect the </span><span class="c15">Retry-After</span><span>&nbsp;header. </span></p>
      <p class="c0"><span>Event generators </span><span class="c7">must</span><span class="c7">&nbsp;not retry</span><span>&nbsp;event signals for error status codes other than 500, 503, or 504. </span></p>
      <h3 class="c19" id="h.odphe8bn9bt"><span>Service Termination</span></h3>
      <p class="c5"><span>Event consumers can indicate that they no longer wish to receive event signals by returning the HTTP status code 410 (gone). Event generators </span><span class="c7">must respect</span><span>&nbsp;the 410 code and </span><span class="c7">must not continue</span><span>&nbsp;signalling events to that consumer after receiving a 410 response. </span></p>
      <h3 class="c19" id="h.kngv29vkto6r"><span>Redirection</span></h3>
      <p class="c4 c17"><span>Event generators </span><span class="c7">must respond correctly </span><span>to redirection (HTTP status codes 3xx) responses from the consumer. </span></p>
      <h2 id="h.9vlh7ehpj3y5"><span>Event Subscription</span></h2>
      <p class="c4 c0"><span>An event consumer subscribes to events from a particular event generator by providing an event signal URL structured as described above. The URL might be registered via an API that the event generator provides or via a user interface into which a human copies the event signal URL. The event consumer </span><span class="c7">must provide</span><span>&nbsp;an interface where users can generate correctly formatted URLs with an appropriate, embedded entity identifier. &nbsp;</span></p>
      <p class="c4 c0"><span>Users generally control event consumers (whether stand-alone or multi-tenanted). Users configure event consumers by subscribing to event generators of interest. Event consumers </span><span class="c7">must be designed</span><span>&nbsp;with the events for particular event generators in mind. </span></p>
      <p class="c4 c0"><span>The flow of a user manually subscribing an event consumer to an event generator manually is shown in the figure below.</span></p>
      <p class="c23 c6 c0"><span><img src='http://www.eventedapi.org/subscription.png'/></span></p>
      <p class="c4 c0"><span>The steps are:</span></p>
      <ol class="c11 lst-kix_f258n9cov7mf-0 start" start="1">
      <li class="c4 c13 c17"><span>User logs into the event consumer</span></li>
      <li class="c4 c13 c17">
      <span>User uses the supplied user interface to generate a event signal URL (</span><span class="c15">&lt;esl&gt;</span><span>). </span>
      </li>
      <li class="c4 c13 c17">
      <span>User copies the event signal URL (</span><span class="c15">&lt;esl&gt;</span><span>).</span>
      </li>
      <li class="c4 c13 c17"><span>User logs into the event generator.</span></li>
      <li class="c4 c13 c0"><span>User stores the event signal URL at the generator using an interface. </span></li>
      <li class="c4 c13 c0">
      <span>Event generator uses the event signal URL to signal event X in domain A (</span><span class="c15">&lt;esl&gt;?_domain=A&amp;_name=X</span><span>).</span>
      </li>
      </ol>
      <p class="c4 c0"><span>The event generator now has a entity-specific URL that it can use to signal events to the event consumer. This process can be automated in various ways. For example, Web-annotation technologies can be used to allow users to configure a consumer installation without directly wrangling URLs.</span></p>
      <h2 class="c31 c19" id="h.3w80qb45nhqt"><span>Proposed Changes</span></h2>
      <h3 id="h.z3ya6p53ada3"><span>Require X-EventedAPI header in consumer response</span></h3>
      <p class="c5"><span>The presence of this header would indicate that the consumer URL does understand the Evented API. A consumer response of a 2xx series without this header indicates to the generator that this is not a valid consumer URL.</span></p>
      <p class="c5"><span>This, combined with the 410 error response, will serve to prevent attackers from using generators as an unwanted source of traffic to any URL.</span></p>
      <h3 id="h.w6dnpcu7o6d2"><span>Change _timestamp argument to XSD:Datetime</span></h3>
      <p class="c4 c17"><span>This would simplify parsing of timestamps. (</span><span class="c1"><a class="c34" href="https://www.google.com/url?q=http://www.w3.org/TR/xmlschema-2/%23dateTime&amp;sa=D&amp;ust=1459048333366000&amp;usg=AFQjCNGa5VDSxUoGrW6t4FqHx8udhob_4Q">Docs for XSD:Datetime</a></span><span>)</span></p>
      <h3 id="h.f3brd9kpl7tu"><span>Adopt Salmon Magic Signatures as an optional event signature</span></h3>
      <p class="c4 c17"><span>For systems processing events needing more security then SSL, allow for the use of </span><span class="c1"><a class="c34" href="https://www.google.com/url?q=http://salmon-protocol.googlecode.com/svn/trunk/draft-panzer-magicsig-01.html&amp;sa=D&amp;ust=1459048333367000&amp;usg=AFQjCNHkDpi3ciU7XgriiB5oEfd_Bi_l5Q">Salmon Magic Signatures </a></span><span>to sign event data. </span></p>
      <h3 id="h.82usycxmu9m9"><span>Support Activity Stream Payloads</span></h3>
      <p class="c5"><span class="c1"><a class="c34" href="https://www.google.com/url?q=http://activitystrea.ms/&amp;sa=D&amp;ust=1459048333368000&amp;usg=AFQjCNHjPBWiHjqOUdZftHsAL3ysuKMDkA">Activity streams</a></span><span>&nbsp;give a semantic schema for activities (events). Activity streams support JSON encoding, so they make a fine payload for an event. Support for them would entail specifying that Activity stream payloads require using the </span><span class="c18 c15">application/activitystream+json</span><span class="c18 c36">&nbsp;</span><span>mime-type so that event consumers know they&rsquo;re being sent an activity stream encoded event. </span></p>
      <p class="c5"><span>When mapping activity streams structures, the _domain should be considered to be </span><span class="c7">activitystreams</span><span>, and the _name should be equal to the verb specified within the activity streams structure.</span></p>
      <h3 id="h.tfa5j3po8pe9"><span>Change Event Name to Event Type, and _name to _type</span></h3>
      <p class="c5"><span>Using Type would represent the real value of the name/type attribute of an event more clearly then Name. </span></p>
      <h2 id="h.do5e96xcgkvy"><span>The Future of Evented APIs</span></h2>
      <p class="c5"><span>The first version of the Evented API specification is simple by design. The following are features that may be added in the future:</span></p>
      <h3 id="h.9kyp4grqxy0p"><span>Salience Filters</span></h3>
      <p class="c4 c17"><span>Event generators may produce some events at a rate that is beyond the ability of the event consumer to process. Often information about specific events that the consumer cares about can allow the generator to filter the event stream before events are signaled. This is called event salience. Future versions of this document may specify a salience API. &nbsp;</span></p>
      <h3 id="h.stgxhx2bydmi"><span>Event Subscription</span></h3>
      <p class="c5"><span>While cutting and pasting URLs is the simplest way to support event subscription, future versions of this specification may include a standard subscription interface.</span></p>
      <h3 id="h.dcp15wp35w0"><span>Event Dictionaries</span></h3>
      <p class="c5"><span>There will likely be a need to specify a common format for event dictionaries. </span></p>
      <h3 id="h.td2ll45a5gnn"><span>Evented API Responses</span></h3>
      <p class="c4 c17"><span>The response content of the event consumer is currently unspecified. Future versions of this document may specify the format and encoding of the response. </span></p>
      <h3 id="h.jbzgrki18p20"><span>Event Batching</span></h3>
      <p class="c4 c17"><span>Some event generators may find it useful to batch events and signal them all at once. Future versions of this document may specify the syntax and semantics of batched event signaling. </span></p>
      <h2 class="c19 c31" id="h.mun7avo888tz"><span>FAQ</span></h2>
      <p class="c5"><span>The following questions and answers explain some of the nuances of Evented APIs. Please send additional questions to the authors listed at the top of this document. </span></p>
      <h3 id="h.e0wek7mk0k3t"><span>How does an evented API compare with a streaming API?</span></h3>
      <p class="c4 c17"><span>Streaming APIs typically open a long-lived Web socket to transfer data more or less continuously. Streaming APIs, such as maintained by Twitter, are an efficient way to transfer lots of data. For sites with less volume, and particularly for consuming apps, a streaming API is not very efficient. Evented APIs are efficient and scale in a well-known, efficient manner. This makes evented API&rsquo;s easier to implement, both for the generator and the consumer.</span></p>
      <h3 id="h.s5sikfx7v3x8"><span>How does an evented API compare with Atom and PubSubHubub (PuSH)?</span></h3>
      <p class="c5"><span>PuSH is designed for broadcast subscriptions, not one-to-one or one-to-a-few subscriptions such as we&rsquo;re envisioning in the Evented API specification</span><span>. </span></p>
      <h3 id="h.wsjuebx70lru"><span>How does an evented API compare with Pushed Data?</span></h3>
      <p class="c5"><span>Pushed Data, most popularly used by Flickr, is really a simplified form of PuSH. There isn&rsquo;t anything wrong with this, but there is value in standardizing the approach.</span></p>
      <h3 id="h.u7yg8kwx2m5c"><span>How does an evented API compare to webhooks?</span></h3>
      <p class="c0 c6"><span>Webhooks are used for both events and RPCs, and (intentionally) lack constraint on how they are used. Evented APIs are only used for transferring events, and the API allows for a generalized way of transferring events with a common format.</span></p>
      <p class="c5"><span>Because of the similarities between webhooks and Evented APIs, you can support a limited form of an Evented API with a webhook by locking the webhook to a single event type.</span></p>
      <h3 id="h.8zgwwj7b9cr9"><span>Why use HTTP instead of XMPP or some other notification protocol?</span></h3>
      <p class="c6 c0"><span>There are several reasons:</span></p>
      <ol class="c11 lst-kix_viywkl3k4v05-0 start" start="1">
      <li class="c5 c13"><span>HTTP is available everywhere online. Very few firewalls block port 80.</span></li>
      <li class="c5 c13"><span>HTTP is available in almost every programming language, making the use of event-driven APIs over HTTP accessible. </span></li>
      </ol>
      <h3 id="h.5e43l5jvwcvs"><span>How much data should be sent as attributes?</span></h3>
      <p class="c4 c17"><span>It is a good idea to send enough information as event attributes to prevent common API calls to retrieve additional data. Data that is particularly large in size, and not always of interest to the receiving party should be made available through an API. If event consumers must always make an API call to retrieve additional information, then that information should be included as an event attribute.</span></p>
      <h3 id="h.dskcfiscn7po"><span>When should the event be sent?</span></h3>
      <p class="c4 c17"><span>The event should be sent immediately, but there is room for using background systems to send the events. Simpler systems can simply send the event in the same thread handling the original request. Most evented systems will operate fine if the event is sent within a minute of occurring, though faster transmission might be required for some systems. The exact timing is up to the generator, who has the best idea of what timing makes sense. </span></p>
      <h2 id="h.z4xdb2lxeg7h"><span>Copyright</span></h2>
      <p class="c5"><span>&copy; Copyright 2011 by Sam Curren and Phillip J. Windley. </span></p>
      <h2 id="h.24q15aggkh6i"><span>Change History</span></h2>
      <p class="c5 c10 c28"><span></span></p>
      <a id="t.db0eadbf15ef110be2e091449daf3079ecc260c8"></a><a id="t.1"></a><table class="c27"><tbody>
      <tr class="c16">
      <td class="c8 c35" colspan="1" rowspan="1"><p class="c5 c10"><span class="c25">Who</span></p></td>
      <td class="c26 c35" colspan="1" rowspan="1"><p class="c5 c10"><span class="c25">What</span></p></td>
      <td class="c39 c35" colspan="1" rowspan="1"><p class="c5 c10"><span class="c35 c33">When</span></p></td>
      </tr>
      <tr class="c16">
      <td class="c8" colspan="1" rowspan="1"><p class="c5 c10"><span class="c21">Phil Windley</span></p></td>
      <td class="c26" colspan="1" rowspan="1"><p class="c5 c10"><span class="c21">Added activity stream proposal</span></p></td>
      <td class="c39" colspan="1" rowspan="1"><p class="c5 c10"><span class="c21">10/19/2011</span></p></td>
      </tr>
      </tbody></table>
      <p class="c5 c28"><span></span></p>
      <p class="c5 c28"><span></span></p>
      <p class="c5 c28"><span></span></p>
      </div>
    </div>
  </body>
</html>
